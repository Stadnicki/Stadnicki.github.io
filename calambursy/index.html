<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel = "stylesheet"
    type = "text/css"
    href = "style.css" />
</head>

<body class="c37">
	<div id="mainContainer" style="width:600px;">
    <p class="c18 c33 title" id="h.ehs83p5ir8a6"><span class="c36">Protok&oacute;&#322; do gry w kalambury</span></p>
    <p class="c9 c38 title" id="h.gpa200kfohdf"><span class="c36"></span></p>

    <h3> Spis tre&#347ci</h3>

    <!-- SPIS TRESCI -->
    <p class="c27 c31">1. <span class="c3 c2"><a class="c14" href="#h.stjy2sz2pwi4">Wst&#281;p</a></span><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2"></span></p>
    <p class="c27 c18">2.<span class="c3 c2"><a class="c14" href="#h.1lrvg936ppgd"> Legenda</a></span><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2"></span></p>
    <p class="c27 c18">3.<span class="c2"><a class="c14" href="#h.r8h87to7d82t"> Tworzenie gry</a></span><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c2"></span></p>
    <p class="c27 c18">4.<span class="c3 c2"><a class="c14" href="#h.pxbkdj2mmkwi"> Do&#322;&#261;czanie do gry</a></span><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2"></span></p>
    <p class="c27 c18">5.<span class="c3 c2"><a class="c14" href="#h.9h68k6wwtu9o"> Rozpoczynanie gry</a></span><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2"></span></p>
    <p class="c27 c18">6.<span class="c3 c2"><a class="c14" href="#h.5w289ylp3iwv"> Wychodzenie z gry</a></span><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2"></span></p>
    <p class="c18 c27">7.<span class="c3 c2"><a class="c14" href="#h.48fw4t5nm1px"> Przebieg rundy</a></span><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2"></span></p>
    <p class="c11">7.1 <span class="c0"><a class="c14" href="#h.mk0mhiw1dc7x">Rozpoczynanie rundy</a></span><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0"></span></p>
    <p class="c11">7.2<span class="c0"><a class="c14" href="#h.5ajqd6cjlig2"> Wysy&#322;anie odpowiedzi</a></span><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0"></span></p>
    <p class="c27 c18">8.<span class="c3 c2"><a class="c14" href="#h.xc8w6unfhyyw"> Wysy&#322;anie wsp&oacute;&#322;rz&#281;dnych</a></span><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2"></span></p>
    <p class="c18 c30">9.<span class="c3 c2"><a class="c14" href="#h.86yjrl34dry1"> Pozosta&#322;e</a></span><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2"></span></p>
    <p class="c11"> 9.1 <span class="c0"><a class="c14" href="#h.xhvf8066jm6l">Czyszczenie rysunku</a></span><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0"></span></p>
    <p class="c11">9.2 <span class="c0"><a class="c14" href="#h.mv78uu1f45uj">Losowanie</a></span><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0"></span></p>
    <p class="c11">9.3<span class="c0"><a class="c14" href="#h.maxs3aoujjtj"> Separator wiadomo&#347;ci</a></span><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0"></span></p>
    
    
    
    
    
    <p class="c4"><span class="c0"></span></p>
    <p class="c1 c9"><span class="c0"></span></p>
    <hr style="page-break-before:always;display:none;">
    <p class="c1 c9"><span class="c0"></span></p>
    <h1 class="c28 c18" id="h.stjy2sz2pwi4"><span class="c22">1. Wst&#281;p</span></h1>
    <p class="c1 c18"><span class="c2">Calambursy </span><span class="c0">to realizacja popularnej gry towarzyskiej kalambury, w kt&oacute;rej jeden z graczy otrzymuje temat do narysowania, a pozostali pr&oacute;buj&#261; odgadn&#261;&#263;, co prezentuje jego rysunek. Osoba, kt&oacute;ra odgadnie prawid&#322;owo, wygrywa rund&#281; i losowane s&#261;: nowy temat oraz nowy rysuj&#261;cy.</span></p>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c18"><span>Aplikacja napisana jest w pe&#322;ni w j&#281;zyku </span><span class="c2">JavaScript</span><span>, z wykorzystaniem </span><span class="c2">Node.JS</span><span>&nbsp;po obu stronach oraz frameworka </span><span class="c2">Electron </span><span class="c0">po stronie klienta (aby zasymulowa&#263; przegl&#261;dark&#281; i jednocze&#347;nie m&oacute;c korzysta&#263; z bibliotek Node). </span></p>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c18"><span>Rozwi&#261;zanie gwarantuje </span><span class="c2">po&#322;&#261;czenie szyfrowane </span><span>z wykorzystaniem protoko&#322;u </span><span class="c2">TLS</span><span>. Jednocze&#347;nie prowadzonych mo&#380;e by&#263; </span><span class="c2">wiele gier</span><span>&nbsp;z </span><span class="c2">wieloma graczami</span><span>. Serwer ma uwydatnion&#261; </span><span class="c2">zdarzeniow&#261; </span><span class="c0">obs&#322;ug&#281; wielorakich zapyta&#324; z obustronnej komunikacji przy u&#380;yciu protoko&#322;u tekstowego, opisanego poni&#380;ej.</span></p>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c18"><span class="c0">Projekt zrealizowany zosta&#322; z nast&#281;puj&#261;cym podzia&#322;em r&oacute;l:</span></p>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c18"><span class="c2">Adrian Stadnicki </span><span class="c0">- aplikacja klienta, obrazy przedstawiaj&#261;ce schemat komunikacji</span></p>
    <p class="c1 c18"><span class="c2">Filip Pietro&#324; </span><span class="c0">- aplikacja serwera, podpisy obraz&oacute;w w dokumentacji</span></p>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c18"><span class="c0">Wsp&oacute;lnie zrealizowane zagadnienia: projekt protoko&#322;u, testowanie aplikacji.</span></p>
    <p class="c4"><span class="c0"></span></p>
    <h1 class="c28 c18" id="h.1lrvg936ppgd"><span class="c22">2. Legenda</span></h1>
    <a id="t.1eed42cf6c194be6a64c9960cf15200b392311e2"></a>
    <a id="t.0"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c15" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">Zmienne wysy&#322;ane w komunikatach</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c1 c9"><span class="c0"></span></p>
    <a id="t.aa9accb16139cd8a71625ba702379a33f788a839"></a>
    <a id="t.1"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;nickname&gt;</span><span class="c0">&nbsp;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span class="c0">Pseudonim gracza sk&#322;adaj&#261;cy si&#281; z du&#380;ych i ma&#322;ych liter alfabetu &#322;aci&#324;skiego oraz cyfr, nie mo&#380;e zawiera&#263; znak&oacute;w specjalnych oraz bia&#322;ych znak&oacute;w. Minimalna d&#322;ugo&#347;&#263; 3, maksymalna 25.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c3 c2">&lt;nicknames&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span>&#321;a&#324;cuch </span><span class="c2">nickname </span><span class="c0">po&#322;&#261;czonych przecinkiem.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;host_nickname&gt;</span><span class="c0">&nbsp;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span class="c2">nickname </span><span class="c0">hosta, czyli osoby, do kt&oacute;rej nale&#380;y dana gra.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;drawer_nickname&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span class="c2">nickname </span><span class="c0">gracza, kt&oacute;ra aktualnie rysuje.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;round_num&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26"><span class="c0">Numer rundy, liczba ca&#322;kowita wi&#281;ksza od zera.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;game_id&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span class="c0">Identyfikator gry, sk&#322;adaj&#261;cy si&#281; z o&#347;miu znak&oacute;w heksadecymalnych. W celu zachowania jego unikalno&#347;ci, zalecane jest wygenerowanie ci&#261;gu znak&oacute;w UUID w wersji 4 oraz wykorzystanie pierwszych jego o&#347;miu znak&oacute;w.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;subject&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span class="c0">Has&#322;o do odgadni&#281;cia. Mo&#380;e sk&#322;ada&#263; si&#281; z kilku s&#322;&oacute;w (ka&#380;de z nich zawiera tylko ma&#322;e litery alfabetu &#322;aci&#324;skiego) rozdzielonych spacjami.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;answer&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span>Odpowied&#378;, czyli pr&oacute;ba odgadni&#281;cia has&#322;a. Sk&#322;ad identyczny jak w </span><span class="c3 c2">subject</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;clue&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span>Podpowied&#378; do has&#322;a. Zawiera inkrementacyjnie coraz wi&#281;cej liter od pocz&#261;tku obecnego </span><span class="c2">subject</span><span class="c0">. Przyk&#322;ad:</span></p>
                    <p class="c26 c18"><span class="c2">subject </span><span class="c0">- &ldquo;apple&rdquo;</span></p>
                    <p class="c26 c18"><span class="c0">kolejne podpowiedzi:</span></p>
                    <p class="c26 c18"><span class="c0">a</span></p>
                    <p class="c26 c18"><span class="c0">ap</span></p>
                    <p class="c26 c18"><span class="c0">app</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;color&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span class="c0">Liczba ca&#322;kowita od 0 do 4, oznaczaj&#261;ca r&oacute;&#380;ne kolory. Oznaczenia kolor&oacute;w realizowane s&#261; po stronie klienta. Przyk&#322;adowo: 0 - czarny, 1 - czerwony itd.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;thickness&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span class="c0">Liczba ca&#322;kowita od 0 do 4 oznaczaj&#261;ca grubo&#347;&#263; rysowanej linii. Oznaczenia grubo&#347;ci realizowane s&#261; po stronie klienta. Przyk&#322;adowo: 0 - 1px, 1 - 3px itd.</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c12" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">&lt;coords&gt;</span></p>
                </td>
                <td class="c6" colspan="1" rowspan="1">
                    <p class="c26 c18"><span class="c0">&#321;a&#324;cuch znak&oacute;w zawieraj&#261;cy wsp&oacute;&#322;rz&#281;dne w postaci: &lt;x&gt;:&lt;y&gt;, gdzie &lt;x&gt; jest liczb&#261; ca&#322;kowita z przedzia&#322;u &lt;0, 800&gt;, natomiast &lt;y&gt; jest liczba ca&#322;kowita z przedzia&#322;u &lt;0, 600&gt;.</span></p>
                    <p class="c26 c18"><span>Kolejne wsp&oacute;&#322;rz&#281;dne rozdzielone s&#261; </span><span class="c2">przecinkiem</span><span class="c0">, przyk&#322;adowo:</span></p>
                    <p class="c26 c18"><span class="c0">0:1,0:2,1:2</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <hr style="page-break-before:always;display:none;">
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c9"><span class="c0"></span></p>
    <a id="t.aad30e91e4b231379f18b64167bfd2a7871a6f41"></a>
    <a id="t.2"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c15" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c2">Utrzymywane po stronie serwera:</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c18"><span class="c2">games </span><span>- tablica struktur </span><span class="c3 c2">game,</span></p>
    <p class="c1 c18"><span class="c2">subjects </span><span class="c0">- tablica dost&#281;pnych temat&oacute;w do losowania przez serwer,</span></p>
    <p class="c1 c18"><span class="c2">player_id </span><span>- </span><span class="c2">&lt;ip_address&gt;:&lt;port&gt;, </span><span class="c0">gdzie:</span></p>
    <ul class="c32 lst-kix_jxbor0j948r0-0 start">
        <li class="c7 c16"><span class="c0">&lt;ip_address&gt; - adres klienta w wersji IPv4,</span></li>
        <li class="c7 c16"><span>&lt;port&gt; - port klienta, liczba ca&#322;kowita w zakresie &lt;1025, 65535&gt;</span></li>
    </ul>
    <p class="c1 c9"><span class="c3 c2"></span></p>
    <p class="c1 c18"><span class="c2">round </span><span>-</span><span class="c2">&nbsp;</span><span class="c0">struktura danych reprezentuj&#261;ca rund&#281; w grze. Zawiera:</span></p>
    <ul class="c32 lst-kix_4yqewv9zt5en-0 start">
        <li class="c7 c16"><span>round_num </span><span class="c17">- </span><span class="c0">numer rundy, inicjalizowany zerem,</span></li>
        <li class="c7 c16"><span>subject </span><span class="c17">- </span><span class="c0">temat rundy, inicjalizowany pustym ci&#261;giem znak&oacute;w,</span></li>
        <li class="c7 c16"><span>drawing_id </span><span class="c17">- </span><span class="c0">identyfikator gracza, kt&oacute;ry w rundzie rysuje, inicjalizowane pustym ci&#261;giem znak&oacute;w,</span></li>
        <li class="c7 c16"><span>clues_sent </span><span class="c17">- </span><span>ilo&#347;&#263; wys&#322;anych dotychczas</span><span class="c2">&nbsp;clue</span><span class="c0">, inicjalizowana zerem</span></li>
    </ul>
    <p class="c4"><span class="c0"></span></p>
    <p class="c16 c18"><span class="c2">player</span><span class="c0">&nbsp;- struktura danych reprezentuj&#261;ca klienta pod&#322;&#261;czonego do gry. Zawiera:</span></p>
    <ul class="c32 lst-kix_raikcwxbtpnx-0 start">
        <li class="c7 c16"><span>id - </span><span class="c2">player_id</span><span class="c0">,</span></li>
        <li class="c7 c16"><span>nick - </span><span class="c2">nickname</span><span class="c0">,</span></li>
        <li class="c7 c16"><span class="c0">score - obecny wynik gracza. Liczba ca&#322;kowita, inicjalizowana zerem.</span></li>
    </ul>
    <p class="c16 c18"><span>W zale&#380;no&#347;ci od implementacji, </span><span class="c2">player </span><span class="c0">mo&#380;e r&oacute;wnie&#380; przechowywa&#263; referencj&#281; do po&#322;&#261;czenia danego klienta.</span></p>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c18"><span class="c2">game </span><span class="c0">- struktura danych reprezentuj&#261;ca trwaj&#261;c&#261; lub sko&#324;czon&#261; gr&#281;. Zawiera:</span></p>
    <p class="c1 c18"><span>&nbsp; &nbsp; &nbsp;- id - </span><span class="c2">game_id,</span></p>
    <ul class="c32 lst-kix_9pd6whn8e7v-0 start">
        <li class="c7 c16"><span>current_round - </span><span class="c2">round,</span></li>
        <li class="c7 c16"><span class="c0">winning_score &nbsp;- ilo&#347;&#263; punkt&oacute;w wymagana do zwyci&#281;stwa. Liczba ca&#322;kowita wi&#281;ksza od zera,</span></li>
        <li class="c7 c16"><span>players - iterowalna lista struktur typu </span><span class="c3 c2">player,</span></li>
        <li class="c7 c16"><span>host_id - </span><span class="c2">player_id </span><span class="c0">klienta, kt&oacute;ry w danym momencie jest gospodarzem gry,</span></li>
        <li class="c7 c16"><span class="c0">status - &#322;a&#324;cuch znak&oacute;w reprezentuj&#261;cy stan gry:</span></li>
    </ul>
    <ul class="c32 lst-kix_9pd6whn8e7v-1 start">
        <li class="c16 c18 c24"><span class="c2">IDLE </span><span class="c0">- gra stworzona, ale nie rozpocz&#281;ta,</span></li>
        <li class="c16 c18 c24"><span class="c2">IN_PROGRESS</span><span class="c0">&nbsp;- gra w trakcie,</span></li>
        <li class="c16 c18 c24"><span class="c2">GAME_OVER - </span><span class="c0">gra sko&#324;czona.</span></li>
    </ul>
    <ul class="c32 lst-kix_9pd6whn8e7v-0">
        <li class="c7 c16"><span>previous_drawing - lista </span><span class="c2">player_id </span><span class="c0">graczy, kt&oacute;rzy dotychczas rysowali,</span></li>
        <li class="c7 c16"><span>previous_subjects - lista </span><span class="c2">subject, </span><span class="c0">kt&oacute;re dotychczas by&#322;y w grze.</span></li>
    </ul>
    <p class="c1 c9"><span class="c0"></span></p>
    <hr style="page-break-before:always;display:none;">
    <p class="c1 c9"><span class="c0"></span></p>
    <a id="t.2e1c0157b4eb1040b13f10979f4b1885d0501480"></a>
    <a id="t.3"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c15" colspan="1" rowspan="1">
                    <p class="c1 c18"><span class="c3 c2">Utrzymywane po stronie klienta:</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c1 c18"><span class="c2">player</span><span class="c0">&nbsp;- struktura danych reprezentuj&#261;ca gracza. Zawiera:</span></p>
    <ul class="c32 lst-kix_nrmydj68qh9z-0 start">
        <li class="c1 c7"><span class="c3 c2">nickname,</span></li>
        <li class="c1 c7"><span class="c2">score </span><span>- obecny wynik gracza</span><span class="c3 c2">,</span></li>
        <li class="c1 c7"><span class="c2">is_drawing - </span><span class="c0">flaga identyfikuj&#261;ca, czy gracz rysuje w danym momencie.</span></li>
    </ul>
    <p class="c1 c18"><span class="c2">game_state </span><span class="c0">- struktura danych opisuj&#261;ca stan aktualnie trwaj&#261;cej gry. Zawiera:</span></p>
    <ul class="c32 lst-kix_8arw3g1in2h3-0 start">
        <li class="c1 c7"><span>game_id - </span><span class="c2">game_id </span><span class="c0">aktualnej gry,</span></li>
        <li class="c1 c7"><span class="c0">current_round - numer aktualnie trwaj&#261;cej rundy,</span></li>
        <li class="c1 c7"><span class="c0">subject - has&#322;o do odgadni&#281;cia,</span></li>
        <li class="c1 c7"><span>host_nickname - </span><span class="c2">nickname </span><span class="c0">hosta,</span></li>
        <li class="c1 c7"><span>drawer_nickname - </span><span class="c2">nickname </span><span class="c0">gracza, kt&oacute;ry aktualnie rysuje,</span></li>
        <li class="c1 c7"><span class="c0">status - status gry, przyjmuje warto&#347;ci IN_PROGRESS, IDLE, GAME_OVER.</span></li>
        <li class="c1 c7"><span>players - lista struktur typu </span><span class="c2">player</span><span class="c0">.</span></li>
    </ul>
    <p class="c1 c18"><span class="c2">current_coords </span><span>-</span><span class="c2">&nbsp;</span><span>&#322;a&#324;cuch znak&oacute;w zawieraj&#261;cy wsp&oacute;&#322;rz&#281;dne postaci </span><span class="c2">coords</span><span class="c0">.</span></p>
    <p class="c1 c18"><span class="c2">colors </span><span class="c0">- struktura pozwalaj&#261;ca na zmian&#281; numeru koloru na konkretny kolor.</span></p>
    <p class="c1 c18"><span class="c2">thickness </span><span>-</span><span class="c2">&nbsp;</span><span>struktura s&#322;u&#380;&#261;ca do zamiany numeru grubo&#347;ci linii na konkretn&#261; warto&#347;&#263;.</span></p>
    <p class="c4"><span class="c0"></span></p>
    <hr style="page-break-before:always;display:none;">
    <h1 class="c28 c18" id="h.r8h87to7d82t"><span class="c22">3. Tworzenie gry</span></h1>
    <p class="c21 c18"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 642.82px; height: 502.67px;"><img alt="" src="images/image4.png" style="width: 642.82px; height: 502.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p>
    <p class="c16 c18"><span>Pierwszym poleceniem, jakie mo&#380;e wyda&#263; klient do serwera, jest CREATE. Po spacji ma znale&#378;&#263; si&#281; </span><span class="c2">nickname</span><span class="c0">. </span></p>
    <p class="c4"><span class="c0"></span></p>
    <a id="t.6d14bdf05da47b70da536f3fa21c6713794999cc"></a>
    <a id="t.4"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Parametr</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Walidacja</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Zwracany b&#322;&#261;d</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy jest ju&#380; w jakiej&#347; grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">ALREADY_IN_GAME</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">nickname</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy jest prawid&#322;owy?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">INVALID_NICKNAME</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c4"><span class="c0"></span></p>
    <p class="c10 c18"><span>Po walidacji, serwer dodaje do listy </span><span class="c2">games </span><span>now&#261; struktur&#281; </span><span class="c2">game</span><span>, z </span><span class="c2">host_id </span><span>ustawionym na </span><span class="c2">player_id </span><span>&#380;&#261;daj&#261;cego klienta, do </span><span class="c2">players </span><span>now&#261; struktur&#281; </span><span class="c2">player </span><span>z </span><span class="c2">id </span><span>r&oacute;wnym </span><span class="c2">player_id</span><span>&nbsp;oraz </span><span class="c2">status </span><span>na </span><span class="c2">IDLE</span><span>. Po poprawnym stworzeniu danych, zwraca do klienta komunikat </span><span class="c2">CREATED </span><span>oraz po spacji wygenerowane </span><span class="c2">game_id</span><span>. Klient powinien zachowa&#263; otrzymane </span><span class="c2">game_id</span><span>, kt&oacute;re p&oacute;&#378;niej pos&#322;u&#380;y do komunikacji z serwerem do konkretnej gry.</span></p>
    <h1 class="c18 c25" id="h.pxbkdj2mmkwi"><span class="c22">4. Do&#322;&#261;czanie do gry</span></h1>
    <h1 class="c21 c18" id="h.w9vkiepex8kq"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 642.82px; height: 904.00px;"><img alt="" src="images/image7.png" style="width: 642.82px; height: 904.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h1>
    <p class="c26 c18"><span>4. Do&#322;&#261;czanie do gry rozpoczyna si&#281; &#380;&#261;daniem od klienta, z komunikatem </span><span class="c2">JOIN</span><span>, po kt&oacute;rym po spacjach nast&#281;puje </span><span class="c2">game_id</span><span>&nbsp;oraz </span><span class="c2">nickname</span><span class="c0">&nbsp;do&#322;&#261;czaj&#261;cego gracza. Nast&#281;puje walidacja przekazanych parametr&oacute;w:</span></p>
    <p class="c4"><span class="c0"></span></p>
    <a id="t.26bbb1acdfb0e24cd5bce613011bbbdaa6f9e532"></a>
    <a id="t.5"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Parametr</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Walidacja</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Zwracany b&#322;&#261;d</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy jest ju&#380; w jakiej&#347; grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">ALREADY_IN_GAME</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra istnieje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">GAME_NOT_FOUND</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span>czy status gry to </span><span class="c2">IDLE</span><span class="c0">?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">GAME_UNAVAILABLE</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">nickname</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy jest prawid&#322;owy?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">INVALID_NICKNAME</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">nickname</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy jest unikalny w grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">NICKNAME_UNAVAILABLE</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c26 c18"><span>Po walidacji, nowa struktura </span><span class="c2">player </span><span>powinna zosta&#263; dodana do listy </span><span class="c2">players </span><span>w &#380;&#261;danej grze. Serwer zwraca komunikat </span><span class="c2">JOINED </span><span>wraz z </span><span class="c2">nicknames </span><span>graczy, kt&oacute;rzy s&#261; w grze oraz </span><span class="c2">host_nickname </span><span>tej gry. Zaraz po tym, pozostali gracze informowani s&#261; komunikatem </span><span class="c2">PLAYER_JOINED </span><span>z </span><span class="c2">nickname </span><span>nowego gracza, kt&oacute;ry do&#322;&#261;czy&#322;, by aplikacje klienta mog&#322;y zaktualizowa&#263; swoj&#261; list&#281; </span><span class="c2">players </span><span>w </span><span class="c3 c2">game_state.</span></p>
    <p class="c4"><span class="c0"></span></p>
    <h1 class="c28 c18" id="h.9h68k6wwtu9o"><span class="c22">5 Rozpoczynanie gry</span></h1>
    <h1 class="c28 c18" id="h.xq6ry8mshp0l"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 642.82px; height: 604.00px;"><img alt="" src="images/image2.png" style="width: 642.84px; height: 604.00px; margin-left: -0.01px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h1>
    <p class="c26 c18"><span class="c2">START_GAME </span><span class="c0">to komunikat, kt&oacute;ry przesy&#322;a klient, by rozpocz&#261;&#263; gr&#281;. Serwer dokonuje nast&#281;puj&#261;cych walidacji: </span></p>
    <p class="c4"><span class="c0"></span></p>
    <a id="t.4f0fca873e2948e36387b02624bc9397bb67278e"></a>
    <a id="t.6"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Parametr</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Walidacja</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Zwracany b&#322;&#261;d</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w jakiej&#347; grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra istnieje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">GAME_NOT_FOUND</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w &#380;&#261;danej grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest gospodarzem?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy w grze jest co najmniej 2 graczy?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">TOO_FEW_PLAYERS</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span>czy status gry to </span><span class="c2">IDLE</span><span class="c0">?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">GAME_UNAVAILABLE</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c1 c9"><span class="c0"></span></p>
    <p class="c10 c18"><span>Je&#380;eli wszystkie parametry sprawdzono pomy&#347;lnie, </span><span class="c2">status </span><span>gry zmieniany jest na </span><span class="c2">IN_PROGRESS</span><span>&nbsp;i uruchamiany jest mechanizm odpowiedzialny za </span><span class="c2">przebieg rundy</span><span class="c0">.</span></p>
    <h1 class="c25 c18" id="h.5w289ylp3iwv"><span class="c22">6. Wychodzenie z gry</span></h1>
    <p class="c21 c18"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 642.82px; height: 806.67px;"><img alt="" src="images/image6.png" style="width: 642.82px; height: 806.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p>
    <p class="c10 c18"><span>Komunikatem </span><span class="c2">LEAVE </span><span>klient informuje, &#380;e pragnie opu&#347;ci&#263; gr&#281; identyfikowan&#261; </span><span class="c2">game_id</span><span class="c0">. Serwer sprawdza nast&#281;puj&#261;ce warto&#347;ci:</span></p>
    <p class="c4"><span class="c0"></span></p>
    <a id="t.e45ccbe463fa5c10b94183fa72249e46bf2166cb"></a>
    <a id="t.7"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Parametr</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Walidacja</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Zwracany b&#322;&#261;d</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w jakiej&#347; grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra istnieje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">GAME_NOT_FOUND</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w &#380;&#261;danej grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c10 c18"><span>Po pomy&#347;lnej weryfikacji, gracz usuwany jest z listy </span><span class="c2">players </span><span>danej gry, po czym otrzymuje komunikat </span><span class="c2">LEFT</span><span>. Wszyscy pozostali gracze w grze otrzymuj&#261; informacj&#281; </span><span class="c2">PLAYER_LEFT </span><span>oraz </span><span class="c2">nickname </span><span>gracza, kt&oacute;ry wyszed&#322;. Je&#380;eli gracz, kt&oacute;ry wyszed&#322;, by&#322; gospodarzem gry, losowany jest nowy gospodarz i jego nick rozsy&#322;any jest po komunikacie </span><span class="c2">NEW_HOST</span><span>. Je&#380;eli liczba pozosta&#322;ych graczy wynosi </span><span class="c2">1</span><span>, serwer powinien zako&#324;czy&#263; gr&#281; poprzez ustawienie jej statusu na </span><span class="c2">GAME_OVER </span><span>oraz wys&#322;a&#263; do ostatniego gracza informacj&#281; </span><span class="c2">GAME_WINNER </span><span>z jego nickiem, by poinformowa&#263; klienta, &#380;e wygra&#322; gr&#281;. Je&#380;eli liczba pozosta&#322;ych graczy wynosi </span><span class="c2">0</span><span>, gra powinna zosta&#263; usuni&#281;ta z listy </span><span class="c2">games</span><span>. Je&#380;eli gracz, kt&oacute;ry wyszed&#322;, aktualnie rysowa&#322;, powinna zosta&#263; uruchomiona nowa runda (patrz </span><span class="c2">Przebieg rundy)</span><span class="c0">.</span></p>
    <p class="c4"><span class="c0"></span></p>
    <p class="c4"><span class="c0"></span></p>
    <h1 class="c28 c18" id="h.48fw4t5nm1px"><span class="c22">7. Przebieg rundy</span></h1>
    <h2 class="c20 c18" id="h.mk0mhiw1dc7x"><span class="c13">7.1 Rozpoczynanie rundy</span></h2>
    <p class="c16 c18"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 642.82px; height: 610.67px;"><img alt="" src="images/image3.png" style="width: 642.82px; height: 610.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p>
    <p class="c10 c18"><span>Przebieg rundy w du&#380;ym stopniu kontrolowany jest przez serwer. Najpierw sprawdzane jest, czy w grze znajduj&#261; si&#281; jeszcze jacy&#347; gracze. Je&#380;eli </span><span class="c2">previous_drawing </span><span>lub </span><span class="c2">previous_subjects</span><span>&nbsp;s&#261; ju&#380; d&#322;ugo&#347;ci odpowiednio ilo&#347;ci graczy w grze lub ilo&#347;ci </span><span class="c2">subjects </span><span>udost&#281;pnianych przez serwer, zmieniane s&#261; na listy zawieraj&#261;ce </span><span class="c2">ostatni </span><span>element. Nast&#281;puje zainicjalizowanie </span><span class="c2">current_round </span><span>w danej </span><span class="c2">game </span><span>z numerem rundy o jeden wi&#281;kszym, ni&#380; poprzedni </span><span class="c2">current_round, </span><span>wylosowanym </span><span class="c2">player_id </span><span>gracza, kt&oacute;ry rysuje wylosowany </span><span class="c2">subject </span><span>oraz </span><span class="c2">clues_sent </span><span>r&oacute;wnym zero.</span><span class="c2">&nbsp;</span><span>Wylosowane dane trafiaj&#261; odpowiednio do </span><span class="c2">previous_drawing </span><span>oraz </span><span class="c2">previous_subjects</span><span>. Do wszystkich graczy w grze trafia komunikat </span><span class="c2">START_ROUND</span><span>&nbsp;wraz z numerem rundy, aby mogli obs&#322;u&#380;y&#263; mi&#281;dzy innymi czyszczenie rysunku. Nast&#281;pnie, otrzymuj&#261; oni komunikat </span><span class="c2">DRAWER</span><span>&nbsp;z </span><span class="c2">nickname </span><span>wylosowanego rysuj&#261;cego gracza, a sam rysuj&#261;cy dostaje komunikat </span><span class="c2">DRAWING </span><span>z </span><span class="c2">subject </span><span>do narysowania. Co pewien interwa&#322; (w przyk&#322;adowej implementacji co 20 sekund), je&#380;eli nie zosta&#322;a udzielona prawid&#322;owa odpowied&#378;, wszyscy gracze </span><span class="c2">poza rysuj&#261;cym </span><span>otrzymuj&#261; komunikat </span><span class="c2">CLUE </span><span>z podpowiedzi&#261; </span><span class="c2">clue</span><span>. Po pewnym czasie (w przyk&#322;adowej implementacji po 2 minutach), je&#380;eli nie pad&#322;a prawid&#322;owa odpowied&#378;, wstrzymywane jest rozsy&#322;anie </span><span class="c2">clues</span><span>&nbsp;i ujawniany jest temat do narysowanie przez komunikat </span><span class="c2">ROUND_OVER</span><span class="c0">&nbsp;i proces nowej rundy jest powtarzany.</span></p>
    <h2 class="c20 c18" id="h.5ajqd6cjlig2"><span class="c13">7.2 Wysy&#322;anie odpowiedzi</span></h2>
    <p class="c16 c18"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 642.82px; height: 912.00px;"><img alt="" src="images/image8.png" style="width: 642.82px; height: 912.00px; margin-left: -0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p>
    <p class="c4"><span class="c0"></span></p>
    <p class="c10 c18"><span>Kiedy trwa runda, nie rysuj&#261;cy gracze mog&#261; podsy&#322;a&#263; swoje zgadywane tematy za komunikatem </span><span class="c2">ANSWER, </span><span>poprzedzaj&#261;c je </span><span class="c2">game_id</span><span>.</span></p>
    <p class="c4"><span class="c0"></span></p>
    <p class="c4"><span class="c0"></span></p>
    <a id="t.ee8953b86ffb6c5907c5faa8969ab07a2ebdd1a3"></a>
    <a id="t.8"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Parametr</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Walidacja</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Zwracany b&#322;&#261;d</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w jakiej&#347; grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra istnieje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">GAME_NOT_FOUND</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w &#380;&#261;danej grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra jest w trakcie i gracz nie rysuje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">CANNOT_ANSWER</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">answer</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy prawid&#322;owy format?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">ANSWER_INVALID</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c4"><span class="c0"></span></p>
    <p class="c10 c18"><span>Do wszystkich graczy w grze poza odpowiadaj&#261;cym rozsy&#322;any jest komunikat </span><span class="c2">PLAYER_ANSWERED </span><span>z </span><span class="c2">nickname </span><span>oraz </span><span class="c2">answer </span><span>gracza, &#380;eby wy&#347;wietli&#263; innym, na jaki pomys&#322; wpad&#322; kto&#347; inny. Je&#380;eli odpowied&#378; (w </span><span class="c17">lowercase</span><span>) zgadza si&#281; co do znaku z tematem </span><span class="c2">(</span><span class="c17">w lowercase</span><span>), rozsy&#322;any jest do wszystkich graczy komunikat </span><span class="c2">ROUND_WINNER </span><span>z </span><span class="c2">nickname </span><span>gracza, kt&oacute;ry odpowiedzia&#322; poprawnie. Inkrementowany zostaje </span><span class="c2">score </span><span>gracza. Je&#380;eli jest on r&oacute;wny </span><span class="c2">winning_score </span><span>gry, do wszystkich trafi komunikat </span><span class="c2">GAME_WINNER </span><span>z </span><span class="c2">nickname </span><span class="c0">zwyci&#281;zcy. W innym przypadku, rozpocz&#281;ta zostanie nast&#281;pna runda.</span></p>
    <h1 class="c25 c18" id="h.xc8w6unfhyyw"><span class="c22">8. Wysy&#322;anie wsp&oacute;&#322;rz&#281;dnych</span></h1>
    <p class="c4"><span class="c0"></span></p>
    <p class="c10 c18"><span>Kiedy trwa runda, jeden z graczy jest ustalany na rysuj&#261;cego. Mo&#380;e on okresowo (w implementacji przyk&#322;adowej co 200ms) wysy&#322;a&#263; komunikat </span><span class="c2">COORDS </span><span>ze wsp&oacute;&#322;rz&#281;dnymi </span><span class="c2">coords </span><span class="c0">do narysowania.</span></p>
    <p class="c4"><span class="c0"></span></p>
    <a id="t.4b8cc0dfa7587987fbd4f35b2b86cc1749b1ca07"></a>
    <a id="t.9"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Parametr</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Walidacja</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Zwracany b&#322;&#261;d</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w jakiej&#347; grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra istnieje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">GAME_NOT_FOUND</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w &#380;&#261;danej grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra jest w trakcie i gracz rysuje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">color, thickness, coords</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy prawid&#322;owy format?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">INVALID_COORDS</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c4"><span class="c0"></span></p>
    <p class="c10 c18"><span class="c2">color, thickness oraz coords </span><span>powinny zosta&#263; zwalidowane wzgl&#281;dem ustalonego formatu. Je&#380;eli zgadzaj&#261; si&#281;, serwer przesy&#322;a wszystkie te parametry dalej do wszystkich graczy, poprzedzaj&#261;c je komunikatem </span><span class="c2">COORDS</span><span class="c0">. W zwi&#261;zku z tym, nawet rysuj&#261;cy b&#281;dzie widzia&#322; dok&#322;adnie to samo, co zgaduj&#261;cy gracze.</span></p>
    <h1 class="c25 c18" id="h.86yjrl34dry1"><span class="c22">9. Pozosta&#322;e</span></h1>
    <h2 class="c18 c20" id="h.xhvf8066jm6l"><span class="c13">9.1 Czyszczenie rysunku</span></h2>
    <p class="c21 c18"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 642.82px; height: 514.67px;"><img alt="" src="images/image5.png" style="width: 642.82px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p>
    <p class="c10 c18"><span>Komunikatem </span><span class="c2">CLEAR </span><span class="c0">rysuj&#261;cy informuje serwer, &#380;e za&#380;&#261;da&#322; wyczyszczenia zawarto&#347;ci ekranu rysowania. </span></p>
    <p class="c4"><span class="c0"></span></p>
    <a id="t.325db6e776416ea8a5079ec76ebc96e10cb47d27"></a>
    <a id="t.10"></a>
    <table class="c19">
        <tbody>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Parametr</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Walidacja</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">Zwracany b&#322;&#261;d</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w jakiej&#347; grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">game_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra istnieje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">GAME_NOT_FOUND</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gracz jest w &#380;&#261;danej grze?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
            <tr class="c8">
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">player_id</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c0">czy gra jest w trakcie i gracz rysuje?</span></p>
                </td>
                <td class="c5" colspan="1" rowspan="1">
                    <p class="c1"><span class="c3 c2">FORBIDDEN</span></p>
                </td>
            </tr>
        </tbody>
    </table>
    <p class="c9 c10"><span class="c0"></span></p>
    <p class="c10 c18"><span>Je&#380;eli dane zgadzaj&#261; si&#281;, serwer rozsy&#322;a do wszystkich graczy w danej grze komunikat </span><span class="c2">CLEAR</span><span class="c0">, aby aplikacje klienta mog&#322;y wyczy&#347;ci&#263; dotychczasowe rysunki.</span></p>
    <h2 class="c20 c18" id="h.mv78uu1f45uj"><span class="c13">9.2 Losowanie</span></h1>
    <p class="c4"><span class="c0"></span></p>
    <p class="c10 c18"><span>Nast&#281;pny rysuj&#261;cy w rundzie oraz nast&#281;pny temat do rysowania powinny by&#263; losowane &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;z utrzymaniem r&oacute;wnego udzia&#322;u w grze, to znaczy nie powinno doj&#347;&#263; do sytuacji, w kt&oacute;rej ten sam gracz do rysowania lub ten sam temat zdarzy si&#281; dwa razy z rz&#281;du. W tym celu, zalecane jest uzupe&#322;nianie wspomnianych list </span><span class="c2">previous_drawing </span><span>oraz </span><span class="c2">previous_subjects </span><span>na bie&#380;&#261;co oraz opr&oacute;&#380;nianie ich w spos&oacute;b wspomniany w rozdziale </span><span class="c2">Przebieg rundy</span><span class="c0">.</span></p>
    <p class="c10 c9"><span class="c0"></span></p>
    <h2 class="c20 c18" id="h.maxs3aoujjtj"><span class="c13">9.3 Separator wiadomo&#347;ci</span></h2>
    <p class="c16 c18"><span>Wszystkie komunikaty wysy&#322;ane przez serwer oraz klienta powinny by&#263; wie&#324;czone pojedynczym znakiem powrotu karetki oraz znakiem nowej linii: </span><span class="c2">\r\n</span><span class="c0">. Pozosta&#322;e separatory opisane zosta&#322;y w sekcjach po&#347;wi&#281;conych poszczeg&oacute;lnym komunikatom.</span></p>
    <div>
        <p class="c21 c9"><span class="c0"></span></p>
    </div>
	<div>
</body>

</html>